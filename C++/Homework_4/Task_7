#include <iostream>
#include <string>

// Базовый класс "Человек"
class Person {
public:
    // Конструктор класса
    Person(std::string name, int age) : name(name), age(age) {}

    // Метод для вывода информации о человеке
    void displayInfo() const {
        std::cout << "Имя: " << name << ", Возраст: " << age << " лет." << std::endl;
    }

private:
    // Атрибуты класса
    std::string name;
    int age;
};

// Класс "Дом"
class House {
public:
    // Конструктор класса
    House(int roomCount, std::string address) : roomCount(roomCount), address(address) {}

    // Метод для вывода информации о доме
    void displayInfo() const {
        std::cout << "Дом по адресу: " << address << ", Количество комнат: " << roomCount << "." << std::endl;
    }

private:
    // Атрибуты класса
    int roomCount;
    std::string address;
};

// Класс "Житель", наследующий от класса "Человек"
class Resident : public Person {
public:
    // Конструктор класса
    Resident(std::string name, int age, House* house) : Person(name, age), house(house) {}

    // Метод для связывания жителя с домом
    void linkWithHouse(House* newHouse) {
        house = newHouse;
    }

    // Метод для вывода информации о жителе и его доме
    void displayResidentInfo() const {
        displayInfo();
        if (house != nullptr) {
            std::cout << "Житель этого дома:" << std::endl;
            house->displayInfo();
        } else {
            std::cout << "Этот житель не привязан к какому-либо дому." << std::endl;
        }
    }

private:
    // Атрибут класса "Житель"
    House* house;
};

int main() {
    // Создание объектов классов
    House house1(3, "Улица Первая, 1");
    Resident resident1("Иван", 25, &house1);

    // Вывод информации о жителе и его доме
    std::cout << "Информация о жителе и его доме:" << std::endl;
    resident1.displayResidentInfo();

    // Создание нового дома и привязка жителя к нему
    House house2(2, "Улица Вторая, 2");
    resident1.linkWithHouse(&house2);

    // Вывод обновленной информации о жителе и его доме
    std::cout << "\nОбновленная информация о жителе и его доме:" << std::endl;
    resident1.displayResidentInfo();

    return 0;
}
